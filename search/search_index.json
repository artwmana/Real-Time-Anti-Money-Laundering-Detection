{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"ARCHITECTURE/","title":"System Architecture (Draft)","text":"<p>High-level view of the real-time AML detection platform. This draft outlines the main components and how data moves through the system; refine it as implementation details solidify.</p>"},{"location":"ARCHITECTURE/#1-components","title":"1. Components","text":"<ul> <li>Ingestion: stream of card/wire transactions lands in a broker (Kafka/RabbitMQ). Messages are validated and enriched with customer/device context.</li> <li>Feature service: maintains rolling aggregates per entity (customer, merchant, device, IP) and produces an event-level feature vector.</li> <li>Model service: loads the serialized preprocessor + model (see <code>docs/MODELS.md</code>), scores the event, and emits a decision payload with reason codes.</li> <li>Storage: raw events + features in object storage, model inputs/outputs in a feature store or OLAP (e.g., ClickHouse/BigQuery) for auditability.</li> <li>Monitoring: metrics/alerts on throughput, latency, error rate, drift, and Precision@K; logs shipped to centralized logging.</li> </ul>"},{"location":"ARCHITECTURE/#2-data-flow-macro","title":"2. Data Flow (macro)","text":"<ol> <li>Event arrives in broker topic <code>transactions.raw</code>.</li> <li>Consumer validates schema, normalizes timestamps, and publishes to <code>transactions.enriched</code>.</li> <li>Feature service reads enriched events, updates stateful aggregates, and sends <code>transactions.scored</code> with features attached.</li> <li>Model service consumes, produces <code>score</code> + <code>alert</code> boolean + <code>reasons</code>, and writes to <code>transactions.decisions</code>.</li> <li>Alerts are routed to investigators; all artifacts (inputs/outputs) are persisted for replay and audits.</li> </ol>"},{"location":"ARCHITECTURE/#3-deployment-topology","title":"3. Deployment Topology","text":"<ul> <li>Stateless services run in containers; stateful stores (broker, OLAP, Redis/feature store) run as managed services where possible.</li> <li>Blue/green for model deployments; canary with mirrored traffic when feasible.</li> <li>Infra as code preferred; see <code>docs/CICD.md</code> and <code>docs/DOCKER.md</code> for build/deploy notes.</li> </ul>"},{"location":"ARCHITECTURE/#4-non-functional-requirements","title":"4. Non-Functional Requirements","text":"<ul> <li>Latency: &lt;100ms p99 end-to-end scoring path.</li> <li>Availability: target 99.9% for scoring endpoints.</li> <li>Security: TLS everywhere; secrets via vault; RBAC for data access.</li> <li>Auditability: log every decision with model/version/features; keep replayable events.</li> </ul>"},{"location":"DATASET/","title":"AMLNet Transaction Dataset (v1)","text":"<p>Synthetic Anti\u2013Money-Laundering (AML) transaction dataset generated by the AMLNet multi-agent simulation framework (Zenodo: 10.5281/zenodo.16736515). This dataset is intended for AML research, fraud detection, risk modeling, and simulation of financial behavior.</p>"},{"location":"DATASET/#1-overview","title":"1. Overview","text":"<p>AMLNet is a simulator of a financial ecosystem in which agents (customers, businesses, and money launderers) interact, producing realistic transaction patterns:</p> <ul> <li>1,090,173 transactions</li> <li>~4,927 customers</li> <li>~0.16% marked as money laundering</li> <li>Labels are produced by the simulation engine and are guaranteed consistent</li> <li>Fully synthetic\u2014safe for analysis and publication</li> </ul>"},{"location":"DATASET/#2-file-structure","title":"2. File Structure","text":"<pre><code>data/\n\u251c\u2500\u2500 raw/\n\u2502   \u2514\u2500\u2500 AMLNet_August_2025.csv            # raw dataset exported from Zenodo\n\u2514\u2500\u2500 processed/\n    \u251c\u2500\u2500 train.parquet\n    \u251c\u2500\u2500 val.parquet\n    \u2514\u2500\u2500 test.parquet\ndocs/\n\u251c\u2500\u2500dataset.yml                             # schema + preprocessing config\nconfigs/\n\u251c\u2500\u2500DATASET.md                              # documentation (this file)\n</code></pre>"},{"location":"DATASET/#3-schema-columns","title":"3. Schema (Columns)","text":""},{"location":"DATASET/#required-columns","title":"Required Columns","text":"Column Type Description step int64 Simulation step (time index) type object Payment method (TRANSFER, OSKO, BPAY, EFTPOS, DEBIT, NPP) amount float64 Transaction amount in Australian Dollar category object 11 Transaction categories nameOrig object Originating customer ID nameDest object Destination customer/merchant ID oldbalanceOrg float64 Account balance before transaction newbalanceOrig float64 Account balance after transaction isFraud int64 Binary fraud indicator (0=legitimate, 1=fraudulent) isMoneyLaundering int64 Binary AML label (0=normal, 1=suspicious) laundering_typology object Specific money laundering pattern type metadata object Additional metadata fraud_probability float64 Calculated fraud risk score hour int64 Hour of transaction day_of_week int64 Day of week day_of_month int64 Day of month month int64 Month"},{"location":"DATASET/#dtypes-post-processing","title":"Dtypes (post-processing)","text":"Column Dtype step int8 type category amount float64 category category nameOrig category nameDest category oldbalanceOrg float64 newbalanceOrig float64 isFraud bool isMoneyLaundering bool laundering_typology category metadata object fraud_probability float64 hour int8 day_of_week int8 day_of_month int8 month int8"},{"location":"DATASET/#metadata","title":"Metadata","text":"<p>In a dataset, metadata is json that contains: <pre><code>\u251c\u2500\u2500 timestamp (datetime)\n\u251c\u2500\u2500 location\n\u2502   \u251c\u2500\u2500 city (category)\n\u2502   \u251c\u2500\u2500 state (category)\n\u2502   \u251c\u2500\u2500 country (category)\n\u2502   \u2514\u2500\u2500 postcode (int)\n\u251c\u2500\u2500 device_info\n\u2502   \u251c\u2500\u2500 type (category)\n\u2502   \u251c\u2500\u2500 os (category)\n\u2502   \u2514\u2500\u2500 ip_address (str)\n\u251c\u2500\u2500 payment_method (category)\n\u251c\u2500\u2500 merchant_info\n\u2514\u2500\u2500 risk_indicators\n    \u251c\u2500\u2500 amount_vs_average (float)\n    \u251c\u2500\u2500 customer_risk_score (float)\n    \u251c\u2500\u2500 category_risk (category)\n    \u251c\u2500\u2500 risk_score (float)\n    \u251c\u2500\u2500 unusual_time (bool)\n    \u2514\u2500\u2500 unusual_location (bool)\n</code></pre></p>"},{"location":"DATASET/#target","title":"Target","text":"Column Type Description isFraud bool 1 \u2014 fraud, 0 \u2014 normal transaction isMoneyLaundering bool 1 \u2014 suspicious/ML, 0 \u2014 normal transaction ---"},{"location":"DATASET/#4-what-does-notebooks01_edaipynb-do","title":"4. What does <code>notebooks/01_eda.ipynb</code> do","text":"<ol> <li>Incremental loading. Read the first 100k rows (<code>ROWS_TO_READ</code>), immediately convert temporary/categorical columns to compact types (<code>int16</code>, <code>category</code>, <code>bool</code>).</li> <li>Unpacking metadata. Python-like strings are converted into dictionaries, after which expanded fields are added: <code>loc_*</code>, <code>device_*</code>, <code>merch_*</code>, <code>risk_*</code>, <code>payment_method</code>, <code>timestamp</code>. Numeric fields pass <code>pd.to_numeric</code>, string fields are filled with <code>Unknown</code>.</li> <li>Data quality. <code>df.info(memory_usage='deep')</code>, top gaps, statistics on numerical columns and target imbalance.</li> <li>Features. Added time sine/cosine signs, weekend indicators, balance deltas and ratios, custom/merchant/IP aggregates, risk-based indicators and categorical <code>customer_risk_bucket</code>.</li> <li>Visualizations. Logarithmic distribution of amounts, barplot of ML shares by operation type, hourly profile (volume vs ML rate) and scatter <code>risk_score</code> vs target.</li> <li>User-level split. <code>GroupShuffleSplit</code> by <code>nameOrig</code> (80/20) after discarding potential leaks (<code>timestamp</code>, <code>fraud_probability</code>). Statistics on size and target rate are displayed.</li> <li>Encoding pipeline. <code>RobustScaler</code> for numeric ones, <code>OneHotEncoder</code> for columns with \u22648 categories, smoothed <code>SmoothedTargetEncoder</code> for high-cardinality features. The pipeline is trained only on train users.</li> <li>Insights. The final markdown captures key conclusions and next steps (cost-sensitive loss, rolling windows, <code>nameOrig/nameDest</code> embeddings).</li> </ol>"},{"location":"DATASET/#5-feature-groups","title":"5. Feature Groups","text":""},{"location":"DATASET/#numeric-features","title":"Numeric Features","text":"<ul> <li>step, hour, day_of_week, day_of_month, month</li> <li>amount, oldbalanceOrg, newbalanceOrig, balance_delta, amt_to_balance</li> <li>risk_amount_vs_average, risk_customer_risk_score, risk_risk_score, risk_score_gap, amount_vs_avg_diff</li> <li>units: user_tx_count, user_amount_median, user_amount_std, user_unique_merchants, user_device_diversity, merchant_tx_count, amt_to_merchant_avg, ip_activity_rank</li> </ul>"},{"location":"DATASET/#categorical-features","title":"Categorical Features","text":"<ul> <li>type, category, payment_method, laundering_typology</li> <li>device_type, device_os</li> <li>loc_city, loc_state, loc_country, customer_risk_bucket</li> <li>high-cardinality ID: nameOrig, nameDest, merch_merchant_id, device_ip_address</li> </ul>"},{"location":"DATASET/#6-data-cleaning-rules","title":"6. Data Cleaning Rules","text":"Rule Behavior Metadata anomalies <code>normalize_python_json_string</code> \u2192 <code>ast.literal_eval</code> Object NaNs fill <code>Unknown</code> in loc/device/merchant/risk blocks Invalid numerics <code>pd.to_numeric(errors='coerce')</code> + median imputation Ratio infinities Replace with 0 after <code>replace([inf, -inf], nan)</code> and <code>fillna(0)</code>"},{"location":"DATASET/#7-encoding","title":"7. Encoding","text":"<ul> <li>Numeric \u2192 <code>SimpleImputer(strategy='median')</code> \u2192 <code>RobustScaler</code>.</li> <li>Low-card categoricals (\u22648 unique) \u2192 <code>SimpleImputer(most_frequent)</code> \u2192 <code>OneHotEncoder(handle_unknown='ignore')</code>.</li> <li>High-card categoricals \u2192 <code>SimpleImputer(most_frequent)</code> \u2192 <code>SmoothedTargetEncoder</code> with logistic smoothing (global average for unseen categories).</li> <li>All steps are combined into <code>ColumnTransformer</code>; encoder is trained only on train groups from user-based split.</li> </ul>"},{"location":"DATASET/#8-dataset-split-strategy","title":"8. Dataset Split Strategy","text":"<p>User-level <code>GroupShuffleSplit</code>:</p> <ul> <li>Train - 80%</li> <li>Test - 20%</li> <li>Group key - <code>nameOrig</code></li> </ul> <p>This approach eliminates the appearance of the same client in train and test, thereby preventing leaks in target encoding and models.</p>"},{"location":"DATASET/#9-typical-ml-workflow","title":"9. Typical ML Workflow","text":"<ol> <li>Loading + type optimization (as in 01_eda.ipynb)</li> <li>Unpacking metadata, filling in gaps</li> <li>Feature engineering (time, ratios, user/merchant/device units, risk-based)</li> <li>User-based train/test split, fit encoding pipeline on train</li> <li>Training models (CatBoost / LightGBM / tabular NN) with cost-sensitive metrics</li> <li>Backtesting + drift monitoring and retraining if necessary</li> </ol>"},{"location":"DATASET/#10-citation","title":"10. Citation","text":"<pre><code>AMLNet Synthetic Dataset (2024). Zenodo. https://doi.org/10.5281/zenodo.16736515\n</code></pre>"},{"location":"DATASET/#11-license","title":"11. License","text":"<p>The dataset is synthetic and freely available for research. See the Zenodo page for license details.</p>"}]}